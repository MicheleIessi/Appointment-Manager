// leanModal v1.1 by Ray Stone - http://finelysliced.com.au
// Dual licensed under the MIT and GPL

(function($){$.fn.extend({
    leanModal:function(options){
        var defaults={top:20,overlay:0.5};
        var overlay=$("<div id='lean_overlay'></div>");
        $("body").append(overlay);
        options=$.extend(defaults,options);
        return this.each(function(){
            var o=options;
            $(this).click(function(e){
                log_val();
                reg_val();
                $("#lgbtn").click(function(){ 
                        
                        $.ajax({ url:"Login.php",
                                method:"post",
                                data : {email:$("#mail").val(),
                                        password :$("#pwd").val()},
                                success : function(result){
                                    switch(result){
                                       case 'A':
                                       alert("email");
                                       break;
                                       case 'B':
                                       alert("pwd");
                                       break;
                                       case 'C':
                                       location.reload();
                                       break;
                               }
                                } });
                               
                              });
                  $("#regbtn").click(function(){                       
                        
                        $.ajax({url:"modificaUtente.php",
                                method:"post",
                                data: {nome :$("#name"),
                                       cognome:$("#surname"),
                                       email:$("#EmailReg"),
                                       dataNascita:$("#datepicker"),
                                       codiceFiscale:$("#CodFIs"),
                                       password1:$("#pwd1")}
                                
                                });
                  }); 
                    var modal_id=$(this).attr("href");
                    $("#lean_overlay").click(function(){
                        close_modal(modal_id);});                    
                    var modal_height=$(modal_id).outerHeight();
                    var modal_width=$(modal_id).outerWidth();
                    $("#lean_overlay").css({"display":"block",opacity:0});
                    $("#lean_overlay").fadeTo(200,o.overlay);
                    $(modal_id).css({"display":"block","position":"fixed","opacity":0,"z-index":11000,"left":50+"%","margin-left":-(modal_width/2)+"px","top":o.top+"px"});
                    $(modal_id).fadeTo(200,1);
                    e.preventDefault();});});
        function close_modal(modal_id){
            $("#lean_overlay").fadeOut(200);
            $(modal_id).css({"display":"none"});}}});})(jQuery);
